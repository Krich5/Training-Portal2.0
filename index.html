<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>CXAS Training Portal — Sign in</title>
<meta name="color-scheme" content="dark">
<style>
  :root{ --bg:#0b1020; --bg2:#0a132a; --card:#131a2a; --muted:#92a0b8; --fg:#e9edf5; --input:#0e1525; --border:rgba(255,255,255,.08); --accentA:#22d3ee; --accentB:#3b82f6; }
  *{box-sizing:border-box}
  body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;background:linear-gradient(180deg,var(--bg),var(--bg2));color:var(--fg);min-height:100vh}
  header{padding:16px 20px;border-bottom:1px solid var(--border);display:grid;grid-template-columns:1fr auto 1fr;align-items:center}
  .center{justify-self:center;font-weight:800;letter-spacing:.2px}
  .right{justify-self:end}
  .logo{height:36px}
  main{max-width:820px;margin:36px auto;padding:0 16px}
  .card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:24px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
  h1{margin:0 0 .35rem;text-align:center;font-size:1.7rem}
  p.lead{margin:.25rem 0 1.25rem;color:var(--muted);text-align:center}
  label{display:block;color:var(--muted);font-size:.9rem;margin:10px 0 6px}
  input{width:100%;border-radius:12px;border:1px solid var(--border);background:var(--input);color:var(--fg);padding:12px;outline:none}
  button{background:linear-gradient(135deg,var(--accentA),var(--accentB));border:none;color:#06111d;font-weight:800;padding:10px 18px;border-radius:12px;cursor:pointer;margin-top:14px;min-width:130px}
  .row{display:flex;justify-content:center}
  .error{color:#f87171;font-weight:700;text-align:center;min-height:1.25em;margin-top:.75rem}
  footer{color:#93a3ba;text-align:center;font-size:.85rem;padding:18px}
</style>
</head>
<body>
<header>
  <div></div>
  <div class="center" id="brand">CXAS Training Portal</div>
  <div class="right"><img class="logo" alt="CX Advanced Solutions" src="CX%20Advanced%20Solutions_Smaller_white.png"></div>
</header>

<main>
  <section class="card">
    <h1>Welcome</h1>
    <p class="lead">Enter the training password to continue.</p>

    <form id="form" novalidate>
      <label for="pw">Password</label>
      <input id="pw" type="password" placeholder="Enter password" autocomplete="off" spellcheck="false" required>
      <div class="row"><button type="submit">Continue</button></div>
      <div id="err" class="error"></div>
    </form>
  </section>
</main>

<footer>© <span id="yr"></span> CXAS</footer>

<script src="config.js?v=v1"></script>
<script>
  const { BRAND, PASSWORD } = window.APP_CONFIG || {};
  document.getElementById('brand').textContent = BRAND || 'Training Portal';
  document.getElementById('yr').textContent = new Date().getFullYear();

  const form = document.getElementById('form');
  const pw   = document.getElementById('pw');
  const err  = document.getElementById('err');

  form.addEventListener('submit', (e)=>{
    e.preventDefault();
    err.textContent = '';
    if (!pw.value.trim()){ err.textContent = 'Password required.'; return; }
    if (pw.value !== PASSWORD){ err.textContent = 'Incorrect password.'; return; }

    // Mark the session as authed for the new flow
    sessionStorage.setItem('cxas_authed', 'true');
    // Optionally remember last visit timestamp, etc.
    sessionStorage.setItem('cxas_auth_time', String(Date.now()));

    location.href = 'select.html';
  });

  // Let Enter submit
  pw.addEventListener('keydown', (e)=>{ if (e.key === 'Enter'){ e.preventDefault(); form.requestSubmit(); }});
</script>
</body>
</html>
